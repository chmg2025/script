#==============UserScript==============#
# @Autor       å°ç™½ä¿®æ”¹
# @TgChannel   æœ¬é…ç½®æ— åˆ†æµ(æ‰‹åŠ¨é€‰æ‹©èŠ‚ç‚¹æˆ–è€…è‡ªåŠ¨é€‰æ‹©)
# @Data        2025-06-18
#======================================#
# æœ¬é…ç½®åœ°å€ï¼šhttps://raw.githubusercontent.com/chmg2025/script/refs/heads/main/Loon.conf

# ä»¥ â€œ#â€ å¼€å¤´çš„è¡Œä¸ºæ³¨é‡Šè¡Œ

#======================================#

[General]
mitm-on-wifi-access = true
# èµ„æºè§£æå™¨(ä»¥ä¸‹äºŒé€‰ä¸€å³å¯,å»æ‰"#"å¯ç”¨)
resource-parser = https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
#resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/dist/sub-store-parser.loon.min.js
ip-mode = v4-only
domain-reject-mode = Request
mitm-on-wifi-access = false

# GeoIPæ•°æ®åº“(ä»¥ä¸‹äºŒé€‰ä¸€å³å¯,å»æ‰"#"å¯ç”¨)
#geoip-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
geoip-url = https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb
# IPv6æ”¯æŒï¼ˆé»˜è®¤å¼€å¯ï¼Œå¯ç”¨ï¼štrueï¼Œå…³é—­ï¼šfalse)
ipv6 = false
# è·³è¿‡ä»£ç†
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,127.0.0.1,100.64.0.0/10,localhost,*.local,e.crashlynatics.com,www.baidu.com,yunbusiness.ccb.com,passenger.t3go.cn,passenger.t3go.cn
# æ—è·¯éš§é“
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
# è§£å†³ä¸€äº›ipè¯·æ±‚æ— æ³•åŒ¹é…åŸŸåç±»è§„åˆ™çš„é—®é¢˜ã€‚real-ipæŒ‡å®šçš„åŸŸåå°†ä¸è¿”å›fake ipå“åº”ï¼Œç›´æ¥å°†dnsè¯·æ±‚å‘å¾€ç›®æ ‡dnsæœåŠ¡å™¨
# Real-Ip
real-ip = *.iCloud.com, *.apple.com, *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com, msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net
# dnsæœåŠ¡å™¨
dns-server = system,119.29.29.29,114.114.114.114,223.5.5.5,202.141.176.93,202.141.178.13,117.50.10.10,119.28.28.28,8.8.8.8
# å…è®¸ wifi è®¿é—®
allow-udp-proxy = false
allow-wifi-access = true
wifi-access-http-port = 7222
wifi-access-socks5-port = 7221
# èŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•ï¼Œproxy-test-urlæŒ‡å®šçš„ç½‘å€è¿›è¡Œç›¸åº”æµ‹è¯•ï¼Œä»¥ç¡®è®¤èŠ‚ç‚¹çš„å¯ç”¨æ€§ï¼Œä»¥ä¸‹é€‰ä¸€ä¸ªå°±è¡Œ
#proxy-test-url = http://cp.cloudflare.com/generate_204
proxy-test-url = http://www.qualcomm.cn/generate_204
internet-test-url = http://wifi.vivo.com.cn/generate_204
#proxy-test-url = http://captive.apple.com/generate_204
#proxy-test-url = http://www.google.com/generate_204
# æµ‹è¯•è¶…æ—¶
test-timeout = 2000
# æ¥å£æ¨¡å¼
interface-mode = auto

#======================================#
# ğŸ‘‡æœ¬åœ°èŠ‚ç‚¹
[Proxy]




#======================================#
# ğŸ‘‡è¿œç¨‹èŠ‚ç‚¹
[Remote Proxy]



#======================================#
# ğŸ‘‡ç­–ç•¥ç»„
[Proxy Group]
èŠ‚ç‚¹é€‰æ‹© = select, è‡ªåŠ¨æ¨¡å¼, èŠ‚ç‚¹åˆ—è¡¨, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
è‡ªåŠ¨æ¨¡å¼ = url-test, èŠ‚ç‚¹åˆ—è¡¨, url = http://cp.cloudflare.com/generate204, interval = 600, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png

#======================================#
[Remote Filter]
èŠ‚ç‚¹åˆ—è¡¨ = NameRegex, FilterKey = ".*"


#======================================#
#ğŸ‘‡è§„åˆ™åˆ†æµ
[Rule]
# å›½å†…ç›´è¿
GEOIP,CN,DIRECT
# å›½å¤–ä»£ç†
FINAL,èŠ‚ç‚¹é€‰æ‹©
# å±€åŸŸç½‘ç›´è¿
IP-CIDR, 192.168.0.0/16, DIRECT
IP-CIDR, 10.0.0.0/8, DIRECT
IP-CIDR, 172.16.0.0/12, DIRECT
IP-CIDR, 127.0.0.0/8, DIRECT
IP-CIDR, 100.64.0.0/10, DIRECT
IP-CIDR, 224.0.0.0/4, DIRECT
IP-CIDR, fe80::/10, DIRECT

#======================================#
# ğŸ‘‡è¿œç¨‹åˆ†æµè§„åˆ™
[Remote Rule]
https://raw.githubusercontent.com/Loon0x00/LoonLiteRules/main/direct/cn.list, policy=DIRECT, tag=GEOIP_CN, enabled=true



#======================================#
# ğŸ‘‡æœ¬åœ°é‡å†™
[Rewrite]





#======================================#
# ğŸ‘‡æœ¬åœ°è„šæœ¬
# http-request å¤„ç†è¯·æ±‚çš„è„šæœ¬
# http-response å¤„ç†è¯·æ±‚å“åº”çš„è„šæœ¬
# cron å®šæ—¶è„šæœ¬
# network-changed   ç½‘ç»œå‘ç”Ÿå˜åŒ–è§¦å‘è„šæœ¬
# generic  é€šç”¨å‹è„šæœ¬ï¼Œå¯ç”¨åœ¨æ“ä½œèŠ‚ç‚¹/ç­–ç•¥ç»„ä¸­ï¼Œæ‰§è¡Œæ˜¯ä¼šå¸¦å…¥èŠ‚ç‚¹åç§°å’Œç­–ç•¥ç»„åç§°ï¼Œè„šæœ¬å¿…é¡»åœ¨å¼€å¯NEæ—¶
[Script]




#======================================#
# ğŸ‘‡è¿œç¨‹è„šæœ¬
[Remote Script]



#======================================#
# ğŸ‘‡æ’ä»¶èµ„æº
[Plugin]
# appè§£é”


# å»å¹¿å‘Š
https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.loon.plugin, tag=æ’ä»¶è½¬æ¢å™¨, enabled=true


# å…¶ä»–


#======================================#
# ğŸ‘‡ä¸­é—´äººæ”»å‡»ï¼Œè¯ä¹¦ï¼Œä¸»æœºå
[Mitm]
ca-p12 =
ca-passphrase =
hostname =
skip-server-cert-verify = false