/***********************************
#!name=香蕉视频
#!desc=解锁VIP及视频(广告未处理)
#!date=2025-09-12

[Script]

http-response https://h5.xxoo137.org\.(com|org)\/api\/ucp\/index(\?.*)? script-path=https://raw.githubusercontent.com/chmg2025/script/refs/heads/main/xjsp.js, requires-body=true, timeout=60, tag=会员
http-response https://h5.xxoo137.org/api/(v2/vod/reqplay|vod/reqplay)\/\d+(\?.*)? script-path=https://raw.githubusercontent.com/chmg2025/script/refs/heads/main/xjsp.js, requires-body=true, timeout=60, tag=视频
[MITM]
hostname = *.xxoo137.org
***********************************/


















(function(u){var a,y,T,n,m,G;function J(V,X){return V<<X}function R(V,X){return V>>X}function Y(V,X){return V<=X}function N(V,X){return V%X}function Z(V,X){return V*X}function S(V,X){return V+X}function r(V,X){return V-X}function d(V,X){return V/X}function W(V,X){return V<X}function M(V,X){return V>X}function o(V,X){return V>=X}function F(V,X,o){return V[X]=o,V}y=F;function t(){return y(y(y(y(y(y({},'L','fromCharCode'),'U','obje'),'s','ct'),'w','object'),'l','StringExtract'),'G','_$a')}let V=t();(m=Object.assign)&&0||(a=u[1]);function w(V){return r(V,0x3099)}function U(V){return S(V,0x16199)}n=U;G=w;let C=['eNp9kk1Lw0AQhv+KFI/WpD2ILYgIKrSCLdYvvIQ1u222JrsxH8Uqgor4cVNQsHoQBBX0UDxZRPHPtNr+C5PZiRfBEMK+z7yzO5OdndRqsVJeLs+l8ilb1lIjoFdinVHrxXg9ptZL4FuXtInGtRjkokfJVYiHnGLYAK01JNU8tunaJMkzIdD/bH1dtbudvW7nqVReLJTmK/3269fLAboIuOI0gxJuNw2POYQLyjwfHVVw1LgpBZIaENwNGQXm85pgSWVMJUqbmpInuXWAg4dW//K0/3g0uDvHwAb2JaoSiaUa2L/onZ30bj56h5/fz/e927fB8Xn3/RpNHEzcb3AXiQRSZYFpIbGBUBIQBA4AKwhcP69pTeqkictHKRMy+jS0rbrvToaePYF2F+zxFSBoAHBYYMmk2UCV7zMPQagKi/7kVqmKbBvY8hjKKZBZPZdLZ7JpPTOkj+d1PXoxPgtxwc0NQRyGcFo1I0UCZtQAOFzwv0NQVO6Q0V80p/yh6WpQHeIC4MBiyU3NqybVtsZ/E7Kgevds1JXk0IBD2cYwycYzHWEQmXhSIrH7A3DU/sY='],P,q=String[V.L],l=Uint8Array,b=Uint16Array,H=Uint32Array;T=typeof window===S(V.U,V.s)&&window||typeof self===V.w&&self||exports;let X=(function(V){var r,t,o,X,Y;((((r=F)&&0||(X='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/')||'0')&&(o=function(r){var t,o,X;function M(){return'length'.split('|')}const V=M();for(((X={})||6)&&(o=G(0x3099))&&0||(t=r[V[0]]);W(o,t);o++)X[r[S('char','At')](o)]=o;return X}(X))||'0')&&(t=function(t){var X,r,F,Y;let V=[0x3099,0x16198,'charAt',0x16196,0x16191,0x1609a,0x16197,''];return(X=t.length)&&0||(F=N(X,n(-0x16195)),Y=(M(X,G(V[0]))?J(o[t[S('char','At')](G(0x3099))],n(-0x16187)):G(V[0]))|(M(X,n(-0x16198))?J(o[t.charAt(n(-V[1]))],n(-0x1618d)):G(V[0]))|(M(X,n(-0x16197))?J(o[t[V[2]](n(-0x16197))],n(-0x16193)):G(0x3099))|(M(X,n(-V[3]))?o[t[V[2]](n(-0x16196))]:G(0x3099)),r=[q(Y>>>n(-0x16189)),q(Y>>>n(-V[4])&n(-V[5])),q(Y&n(-0x1609a))],r.length-=[G(0x3099),G(0x3099),n(-V[6]),n(-0x16198)][F],r.join(V[7]))})&&0||(Y=function(V){return V.replace(/\S{1,4}/g,t)})||true)&&r(V,'atob',function(V){return Y(String(V).replace(/[^A-Za-z0-9\+\/]/g,''))})}(T),function(a){var I,O,op,c,u,x,U,Xp,Vp,t,K,V,v,z,L,f,m,A,g,P,D,i,E,X,j;function s(){return y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y({},'L',!0),'U',0x3099),'s','prototype'),'w','J'),'l','undefined'),'G',0x16191),'f',0x16192),'e',0x16193),'H',0x16197),'n',0x16198),'u',0x1618a),'v',0x16190),'Q',0x1618c),'y',0x16186),'M',0x16182),'t',0x1617e),'c',0x1617a),'T',0x16176),'o',0x16156),'J',0x16126),'B',0x160f6),'r',0x160d6),'F',0x16097),'m',0x16196),'i',0x16195),'g',0x16194),'k',0x16158),'I',0x160d8),'K',0x15e98),'b',0x15d98),'D',0x15198),'A',0x14198),'Y',0x13198),'C',0x12198),'x',0x1618f),'h',0x1618e),'z',0x1618d),'S',0x16079),'a',0x1610a),'d',0x16082),'P',0x1617b),'E','d')}let C=s();((D=n(-0x16191))||1)&&(g=C.L)&&0||(X=void G(C.U));function k(V){throw V}function h(X,q){var M,t,o,V;M=F;let r='c|index|verify|method|err:|Size|bufferSize|bufferType|resi'.split('|');V=this;(o=void G(0x3099),M(M(V,'input',X),r[0],G(0x3099)),q||!(q={}))&&((q[r[1]]&&(V.c=q[r[1]])||1)&&(q[S('veri','fy')]&&(V.N=q[r[2]])));(t=X[V[r[0]]++])&&false||(o=X[V[r[0]]++]);switch(t&n(-0x1618a)){case D:V[r[3]]=D}(G(0x3099)!==N(S(J(t,n(-0x16191)),o),n(-0x1617a))&&k(Error(S(r[4],N(S(J(t,n(-0x16191)),o),n(-0x1617a)))))&&0||o&n(-0x16179)&&k(Error('not'))||'0')&&M(V,'B',new e(X,M(M(M(M({},r[1],V.c),r[6],q[S('buffer',r[5])]),r[7],q[r[7]]),'resize',q[S(r[8],'ze')])))}((x=(h[C.s].p=function(){var t,o,q,M,r;M=F;function X(){return[0x3099,'p','B','c',0x16189]}let V=X();return((o=this)||7)&&(r=o[S('inp','ut')])&&0||(q=void G(0x3099),t=void G(V[0]),q=o[V[2]][V[1]](),M(o,'c',o.B.c),o.N&&(t=(J(r[o.c++],n(-0x16181))|J(r[o[V[3]]++],n(-V[4]))|J(r[o.c++],n(-0x16191))|r[o[V[3]]++])>>>G(0x3099),t!==jb(q)&&k(Error('i32c'))),q)},G(0x3099)))||true)&&(c=n(-0x16198));function e(o,t){var r,V;r=F;const X=r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r({},'L',0xe199),'U','g'),'s','input'),'w','n'),'l','C'),'G',!1),'f','index'),'e','c'),'H','bufferSize'),'n','bufferType'),'u','buffer'),'v','resize'),'Q','b'),'y','K'),'M','t'),'t','o');V=this;(r(r(r(r(r(r(r(V,'l',[]),'m',n(-X.L)),'e',V[X.U]=V.c=V.q=G(0x3099)),X.s,U?new l(o):o),'s',!1),X.w,c),X.l,X.G),t||!(t={}))&&((t[X.f]&&(V[X.e]=t[X.f])&&false||t[X.H]&&(V.m=t[X.H])||1)&&(t[X.n]&&(V.n=t[S(X.u,'Type')]))&&0||t[X.v]&&(V[X.l]=t[X.v]));switch(V.n){case x:V[X.Q]=n(-X.L);V.a=new(U?l:Array)(S(S(n(-0xe199),V.m),n(-0x16097)));break;case c:V.b=G(0x3099);V.a=new(U?l:Array)(V.m);V.f=V[X.y];V[X.M]=V.I;V[X.t]=V.J;break;default:k(Error('imd'))}}((e.prototype.K=function(Y){var o,b,t,V,C,F,H,X;let q=(()=>'a|number|v|G|u'.split('|'))();return(t=this)&&0||(o=S(d(t[S('inp','ut')].length,t.c),n(-0x16198))|G(0x3099),V=void G(0x3099),C=void G(0x3099),b=void G(0x3099),X=t[S('inp','ut')],F=t[q[0]],Y&&(q[1]===typeof Y.v&&(o=Y[q[2]]),'number'===typeof Y[q[3]]&&(o+=Y[q[3]])),M(n(-0x16197),o)?(V=d(r(X.length,t.c),t[q[4]][n(-0x16197)]),b=Z(n(-0x16097),d(V,n(-0x16197)))|G(0x3099),C=W(b,F.length)?S(F[S('leng','th')],b):J(F.length,n(-0x16198))):C=Z(F.length,o),U?(H=new l(C),H.set(F)):H=F,t.a=H)})||9)&&(e.prototype.I=function(){var X,o,r;let V='b|th|a|length|C|ray|buffer'.split('|');return(X=this)&&0||(r=X[V[0]],U?X[V[4]]?(o=new l(r),o.set(X.a[S('subar',V[5])](G(0x3099),r))):o=X.a[S('subar','ray')](G(0x3099),r):(M(X[V[2]][S('leng',V[1])],r)&&(X[V[2]][V[3]]=r),o=X.a),X[V[6]]=o)})&&0||(e.prototype[C.w]=function(b,l){var P,C,X,T,q,H,J,w,N;P=F;let R=P(P(P(P(P(P(P(P(P({},'L','u'),'U','length'),'s',0x16099),'w','f'),'l','leng'),'G',0x16191),'f','e'),'e','c'),'H','b');for((((((H=this)||4)&&(C=H.a)||2)&&(X=H.b)||8)&&P(H,R.L,b)||true)&&(w=C[R.U]);n(-R.s)!==(N=B(H,b));)if(M(n(-R.s),N)){(o(X,w)&&(C=H[R.w](),w=C[S(R.l,'th')])||'0')&&(C[X++]=N)}else{for((((((q=r(N,n(-0x16098)))||'1')&&(T=t[q])&&0||W(G(0x3099),I[q])&&(T+=Q(H,I[q]))||4)&&(N=B(H,l))&&0||(J=V[N]))&&false||W(G(0x3099),u[N])&&(J+=Q(H,u[N])))&&false||M(S(X,T),w)&&(C=H[R.w](),w=C.length);T--;)C[X]=C[r(X++,J)]}for(;Y(n(-R.G),H[R.f]);)H[R.f]-=n(-R.G),H[R.e]--;P(H,R.H,X)});function w(t){var q,w,V,P,C,p,S,l,o,N,r,b,F,u,R,X,T;(((S=-9)||9)&&(r=134)&&0||(R=-99)||4)&&(w={f:()=>R+=w.e,s:10,U:-51,g:-16,O:function(V=r==-33){if(V){return S}return F=(q=J((w.I=n)(-w.c),R==-78||o),T=new(S==-16||U?typeof w.s=='number'&&H:Array)(q),X=n(-(w.L=w).c),N=(w.v==68||G)(w.b),(r==-92&&n)(-0x16197))},h:(V=w.d==-7)=>{if(V){return w.j()}return S+=w.g},n:15,d:0x16189,k:()=>(r==-82?S:t).length,Z:-9,M:83,b:0x3099,w:function(){return G((R==w.v?null:w).b)},e:260,v:-56,c:0x16198,X:-92,a1:function(V){return V+203}});while(S+r+R!=95)Z:switch(S+r+R){case 743:default:case 39:r=143;S+=26,r-=226,R+=260;break Z;case S!=69&&(S!=0&&(S!=7&&S+35)):case 944:case 692:if(r==w.s){((S+=w.n==15?0:16)||true)&&(r+=0)&&0||(R+=0);break Z}C=(w.u=t).length;o=w.w();r-=226,R+=w.e;break Z;case 837:case 151:case 135:case 42:if(r==84){w.h();break Z}C=w.k();o=(R==S-106?G:void 0)((w.hasOwnProperty('g')&&w).b);S-=16,r-=226,R+=w.g=='o'?'p':260;break Z;case w.a1(R):case 930:case 749:w=void 0;r=143;S-=43,r-=226,w.f();break Z;case 60:P=Number.POSITIVE_INFINITY;for(l=G((S==98||w).b);(w.y=W)(S==-9?l:R,C);++l)M(t[l],w.B=o)&&(o=t[r==-12?R:l]),W(t[l],w.d==0x16189?P:Infinity)&&(P=(w.G=t)[w.E=l]);for(w.O();(w.M==-74||Y)(X,o);){for(l=(R==161&&G)(0x3099);W(l,w.Q=C);++l)if(t[w.g==-9||l]===X){for(p=(b=(w.T=G)((w.S=w).b),V=N,(w.W=G)(0x3099));W(p,X);++p)b=(S==-9?J:R)(b,n(-0x16198))|V&(w.$=n)(-(w.Y=w).c),V>>=n(-0x16198);for(p=(u=J(X,(R==-83?w:n)(-w.d))|l,w.Z==-9&&b);W(p,q);p+=F)T[r==-84||p]=u;++N}((++X||'0')&&(N<<=n(-(R+0x160f7)))||2)&&(F<<=n(-w.c))}return[T,o,P]}}function B(H,Y){var q,S,M,V,X,t,w,b,P,C;P=F;let T=['e','input',0x16198,0x16189];for((((((t=H.g)&&0||(C=H[T[0]])||6)&&(X=H[T[1]])||5)&&(w=H.c)||'0')&&(V=X.length)||2)&&(q=Y[G(0x3099)])&&0||(b=Y[n(-T[2])]);W(C,b)&&!o(w,V);)t|=J(X[w++],C),C+=n(-0x16191);return S=q[t&r(J(n(-T[2]),b),n(-0x16198))],M=S>>>n(-T[3]),P(P(P(H,'g',R(t,M)),'e',r(C,M)),'c',w),S&n(-0x619a)}function T(o){var b,R,X,V,H,C,J,r,t;R=F;function Y(){return R(R(R(R(R({},'L',0x16195),'U',0x16196),'s','length'),'w',0x3099),'l','call')}let M=Y();function q(C,M,r){var H,t,X,o,q,V;q=F;const Y=q(q(q(q(q(q({},'L','z'),'U',0x3099),'s',0x16197),'w',0x16196),'l',0x16188),'G',0x16192);((o=this)||6)&&(V=o[Y.L]);for(X=G(Y.U);W(X,C);)switch(t=B(o,M),t){case n(-0x16189):for(H=S(n(-0x16196),Q(o,n(-Y.s)));H--;)r[X++]=V;break;case n(-Y.l):for(H=S(n(-Y.w),Q(o,n(-0x16196)));H--;)r[X++]=G(Y.U);V=G(Y.U);break;case n(-0x16187):for(H=S(n(-0x1618e),Q(o,n(-Y.G)));H--;)r[X++]=G(Y.U);V=G(Y.U);break;default:V=r[X++]=t}return q(o,Y.L,V),r}((((X=S(Q(o,n(-0x16194)),n(-0x16098)))&&0||(H=S(Q(o,n(-0x16194)),n(-0x16198))))&&0||(r=S(Q(o,n(-M.L)),n(-M.L)))||true)&&(C=new(U?l:Array)(m.length))&&0||(b=void G(0x3099)))&&0||(t=void G(0x3099));for(J=G(0x3099);W(J,r);++J)C[m[J]]=Q(o,n(-M.U));if(!U){for(r=(J=r,C[M.s]);W(J,r);++J)C[m[J]]=G(0x3099)}((((V=w(C))&&0||(b=new(U?l:Array)(X)))&&false||(t=new(U?l:Array)(H)))&&0||R(o,'z',G(M.w))||4)&&o.o(w(q[M.l](o,X,V,b)),w(q.call(o,H,V,t)))}function Q(S,H){var C,V,q,X,b,Y,t;C=F;function w(){return C(C(C(C(C(C({},'L','e'),'U','input'),'s','length'),'w','bk'),'l',0x16191),'G',0x16198)}let M=w();for(((((t=S.g)||2)&&(V=S[M.L])||2)&&(Y=S[M.U])||7)&&(b=S.c)&&0||(X=Y[M.s]);W(V,H);)o(b,X)&&k(Error(M.w)),t|=J(Y[b++],V),V+=n(-M.l);return q=t&r(J(n(-0x16198),H),n(-M.G)),C(C(C(S,'g',t>>>H),'e',r(V,H)),'c',b),q}(((((z=(e[C.s].p=function(){var w,F,b,H,R,q,u,C,t,Y,V;const P='s|c|b|e|g|iL|iN|ib|th|f|length|n|subarray|o|e: '.split('|');for(Y=this;!Y[P[0]];){(((H=Q(Y,n(-0x16196)))||3)&&(H&n(-0x16198)&&(Y[P[0]]=g))||2)&&(H>>>=n(-0x16198));switch(H){case G(0x3099):R=Y[S('inp','ut')];F=Y[P[1]];V=Y.a;b=Y[P[2]];u=R.length;t=X;C=X;w=V.length;q=X;Y[P[3]]=Y[P[4]]=G(0x3099);o(S(F,n(-0x16198)),u)&&k(Error(P[5]));t=R[F++]|J(R[F++],n(-0x16191));o(S(F,n(-0x16198)),u)&&k(Error(P[6]));C=R[F++]|J(R[F++],n(-0x16191));t===~C&&k(Error('ih'));M(S(F,t),R.length)&&k(Error(P[7]));switch(Y[P[11]]){case x:for(;M(S(b,t),V[S('leng',P[8])]);){if(q=r(w,b),t-=q,U){((V.set(R.subarray(F,S(F,q)),b)||6)&&(b+=q)||1)&&(F+=q)}else{for(;q--;)V[b++]=R[F++]}((Y.b=b)&&0||(V=Y[P[9]]()))&&0||(b=Y.b)}break;case c:for(;M(S(b,t),V[P[10]]);)V=Y.f(y({},'v',n(-0x16197)));break;default:k(Error('im'))}if(U){(V.set(R[P[12]](F,S(F,t)),b)&&false||(b+=t)||true)&&(F+=t)}else{for(;t--;)V[b++]=R[F++]}Y.c=F;Y.b=b;Y.a=V;break;case n(-0x16198):Y[P[13]](v,E);break;case n(-0x16197):T(Y);break;default:k(Error(S(P[14],H)))}}return $(Y.t())},C.l))&&0||(U=z!==typeof l&&z!==typeof b&&z!==typeof H&&z!==typeof DataView)||3)&&(m=(K=[n(-0x16189),n(-0x16188),n(-0x16187),G(C.U),n(-C.G),n(-C.f),n(-0x16190),n(-C.e),n(-0x1618f),n(-0x16194),n(-0x1618e),n(-0x16195),n(-0x1618d),n(-0x16196),n(-0x1618c),n(-C.H),n(-0x1618b),n(-C.n),n(-C.u)],U?new b(K):K))||2)&&(t=(P=[n(-0x16196),n(-0x16195),n(-0x16194),n(-C.e),n(-0x16192),n(-0x16191),n(-C.v),n(-0x1618f),n(-0x1618e),n(-C.Q),n(-0x1618a),n(-0x16188),n(-C.y),n(-C.M),n(-C.t),n(-C.c),n(-C.T),n(-0x1616e),n(-0x16166),n(-0x1615e),n(-C.o),n(-0x16146),n(-0x16136),n(-C.J),n(-0x16116),n(-C.B),n(-C.r),n(-0x160b6),n(-0x16097),n(-0x16097),n(-C.F)],U?new b(P):P))&&0||(I=(L=[G(C.U),G(0x3099),G(0x3099),G(C.U),G(C.U),G(C.U),G(C.U),G(C.U),n(-C.n),n(-C.n),n(-C.n),n(-C.n),n(-C.H),n(-C.H),n(-C.H),n(-0x16197),n(-0x16196),n(-0x16196),n(-C.m),n(-0x16196),n(-C.i),n(-C.i),n(-0x16195),n(-C.i),n(-0x16194),n(-C.g),n(-C.g),n(-0x16194),G(0x3099),G(0x3099),G(0x3099)],U?new l(L):L))||3)&&(V=(O=[n(-0x16198),n(-C.H),n(-C.m),n(-C.i),n(-0x16194),n(-C.f),n(-0x16190),n(-0x1618c),n(-0x16188),n(-0x16180),n(-0x16178),n(-0x16168),n(-C.k),n(-0x16138),n(-0x16118),n(-C.I),n(-0x16098),n(-0x16018),n(-0x15f98),n(-C.K),n(-C.b),n(-0x15b98),n(-0x15998),n(-0x15598),n(-C.D),n(-0x14998),n(-C.A),n(-C.Y),n(-C.C),n(-0x10198)],U?new b(O):O))&&0||(u=(Xp=[G(0x3099),G(0x3099),G(C.U),G(C.U),n(-0x16198),n(-C.n),n(-0x16197),n(-C.H),n(-C.m),n(-0x16196),n(-0x16195),n(-0x16195),n(-C.g),n(-0x16194),n(-0x16193),n(-0x16193),n(-0x16192),n(-0x16192),n(-C.G),n(-C.G),n(-C.v),n(-0x16190),n(-C.x),n(-C.x),n(-C.h),n(-C.h),n(-0x1618d),n(-C.z),n(-0x1618c),n(-0x1618c)],U?new l(Xp):Xp)))&&0||(Vp=new(U?l:Array)(n(-C.S)));for(f=(f=void G(0x3099),i=G(0x3099),Vp.length);W(i,f);++i)Vp[i]=o(n(-C.a),i)?n(-0x16191):o(n(-0x1609a),i)?n(-C.v):o(n(-C.d),i)?n(-C.f):n(-0x16191);v=w(Vp);op=new(U?l:Array)(n(-C.P));for(j=(j=void G(0x3099),A=G(0x3099),op.length);W(A,j);++A)op[A]=n(-C.g);E=w(op);function $(array){var o,t,r,V,X,F;const M=[0x3099,'',0x16198,0x16193,0x1618d,0x1617a,0x1615a,0x16195];(((r=void G(M[0]))||'0')&&(V=M[1])&&0||(r=array[S('leng','th')])||3)&&(X=G(M[0]));while(W(X,r)){t=array[X++];switch(R(t,n(-M[7]))){case G(M[0]):case n(-M[2]):case n(-0x16197):case n(-0x16196):case n(-0x16195):case n(-0x16194):case n(-M[3]):case n(-0x16192):V+=q(t);break;case n(-M[4]):case n(-0x1618c):F=array[X++];V+=q(J(t&n(-M[5]),n(-0x16193))|F&n(-M[6]));break;case n(-0x1618b):F=array[X++];o=array[X++];V+=q(J(t&n(-0x1618a),n(-M[4]))|J(F&n(-M[6]),n(-0x16193))|J(o&n(-M[6]),G(M[0])))}}return V}a[C.E]=function(X){let V=y(y({},'L','spl'),'U','atob'),o=new h(new l(a[V.U](X)[S(V.L,'it')]('').map(V=>V.charCodeAt(G(0x3099)))),{}),r=o.p();return r}}(T),P=typeof window===V.w&&window||typeof self===S(V.U,V.s)&&self||typeof global==='object'&&global,!0);for(let o of C)(o=T.d(o),o=a(o),X)?m(P,o):P[V.l]=o;for(let X=G(0x3099);W(X,u.length);X++)P[S(V.G,X)]&&m(P,y({},P[S(V.G,X)],u[X]))}([['f',true,93,'sepAB'],JSON.parse,JSON.stringify]));let $=new Env(XJSPjPK),url=$request[XJSPRPK],body=sPK($response[XJSPUPK]);if($request[XJSPvPK]===XJSPgPK){$[XJSPVPK](XJSPcPK),$[XJSPDPK]({})}let API=XJSPmPK;if(url[XJSPuPK](XJSPKPK)!==-XJSPWPK){body[XJSPlPK][XJSPdPK]=XJSPWPK,body[XJSPlPK][XJSPkPK][XJSPePK]=XJSPpPK,body[XJSPlPK][XJSPkPK][XJSPaPK]=XJSPZPK,body[XJSPlPK][XJSPkPK][XJSPNPK]=XJSPZPK,body[XJSPlPK][XJSPtPK][XJSPiPK]=XJSPTPK,body[XJSPlPK][XJSPtPK][XJSPXPK]=XJSPWPK,body[XJSPlPK][XJSPtPK][XJSPfPK]=XJSPzPK,body[XJSPlPK][XJSPtPK][XJSPePK]=XJSPZPK,body[XJSPlPK][XJSPtPK][XJSPFPK]=XJSPhPK,body[XJSPlPK][XJSPtPK][XJSPSPK]=XJSPAPK,body[XJSPlPK][XJSPtPK][XJSPJPK]=XJSPpPK,$[XJSPDPK]({[XJSPUPK]:bPK(body)})}if(url[XJSPuPK](XJSP_PK)!==-XJSPWPK||url[XJSPuPK](XJSPEPK)!==-XJSPWPK){$[XJSPoPK](API+url)[XJSPIPK](v=>(body=v[XJSPUPK],($[XJSPDPK]({[XJSPUPK]:body})),void 0))}



function Env(a,b){var c=Math.floor;return new class{constructor(a,b){this.name=a,this.version="1.7.4",this.data=null,this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="",this.encoding="utf-8",this.startTime=new Date().getTime(),Object.assign(this,b),this.log("","🔔"+this.name+", 开始!")}platform(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"==typeof module||!module.exports?"undefined"==typeof $task?"undefined"==typeof $loon?"undefined"==typeof $rocket?"undefined"==typeof Egern?void 0:"Egern":"Shadowrocket":"Loon":"Quantumult X":"Node.js"}isQuanX(){return"Quantumult X"===this.platform()}isSurge(){return"Surge"===this.platform()}isLoon(){return"Loon"===this.platform()}isShadowrocket(){return"Shadowrocket"===this.platform()}isStash(){return"Stash"===this.platform()}isEgern(){return"Egern"===this.platform()}toObj(a,b=null){try{return JSON.parse(a)}catch{return b}}toStr(a,b=null){try{return JSON.stringify(a)}catch{return b}}lodash_get(a={},b="",c=void 0){Array.isArray(b)||(b=this.toPath(b));const d=b.reduce((a,b)=>Object(a)[b],a);return d===void 0?c:d}lodash_set(a={},b="",c){return Array.isArray(b)||(b=this.toPath(b)),b.slice(0,-1).reduce((a,c,d)=>Object(a[c])===a[c]?a[c]:a[c]=/^d+$/.test(b[d+1])?[]:{},a)[b[b.length-1]]=c,a}toPath(a){return a.replace(/[(d+)]/g,".$1").split(".").filter(Boolean)}getItem(a=new String,b=null){let c=b;switch(a.startsWith("@")){case!0:const{key:b,path:d}=a.match(/^@(?<key>[^.]+)(?:.(?<path>.*))?$/)?.groups;a=b;let e=this.getItem(a,{});"object"!=typeof e&&(e={}),c=this.lodash_get(e,d);try{c=JSON.parse(c)}catch(a){}break;default:switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":c=$persistentStore.read(a);break;case"Quantumult X":c=$prefs.valueForKey(a);break;default:c=this.data?.[a]||null}try{c=JSON.parse(c)}catch(a){}}return c??b}setItem(a=new String,b=new String){let c=!1;switch(typeof b){case"object":b=JSON.stringify(b);break;default:b=b+""}switch(a.startsWith("@")){case!0:const{key:d,path:e}=a.match(/^@(?<key>[^.]+)(?:.(?<path>.*))?$/)?.groups;a=d;let f=this.getItem(a,{});"object"!=typeof f&&(f={}),this.lodash_set(f,e,b),c=this.setItem(a,f);break;default:switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":c=$persistentStore.write(b,a);break;case"Quantumult X":c=$prefs.setValueForKey(b,a);break;default:c=this.data?.[a]||null}}return c}async fetch(a={},b={}){switch(a.constructor){case Object:a={...a,...b};break;case String:a={url:a,...b}}a.method||(a.method=a.body??a.bodyBytes?"POST":"GET"),delete a.headers?.Host,delete a.headers?.[":authority"],delete a.headers?.["Content-Length"],delete a.headers?.["content-length"];const c=a.method.toLocaleLowerCase();switch(this.platform()){case"Loon":case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:return a.policy&&(this.isLoon()&&(a.node=a.policy),this.isStash()&&this.lodash_set(a,"headers.X-Stash-Selected-Proxy",encodeURI(a.policy))),a.followRedirect&&((this.isSurge()||this.isLoon())&&(a["auto-redirect"]=!1),this.isQuanX()&&(a.opts?a.opts.redirection=!1:a.opts={redirection:!1})),a.bodyBytes&&!a.body&&(a.body=a.bodyBytes,delete a.bodyBytes),await new Promise((b,d)=>{$httpClient[c](a,(c,e,f)=>{c?d(c):(e.ok=/^2dd$/.test(e.status),e.statusCode=e.status,f&&(e.body=f,!0==a["binary-mode"]&&(e.bodyBytes=f)),b(e))})});case"Quantumult X":return a.policy&&this.lodash_set(a,"opts.policy",a.policy),"boolean"==typeof a["auto-redirect"]&&this.lodash_set(a,"opts.redirection",a["auto-redirect"]),a.body instanceof ArrayBuffer?(a.bodyBytes=a.body,delete a.body):ArrayBuffer.isView(a.body)?(a.bodyBytes=a.body.buffer.slice(a.body.byteOffset,a.body.byteLength+a.body.byteOffset),delete object.body):a.body&&delete a.bodyBytes,await $task.fetch(a).then(a=>(a.ok=/^2dd$/.test(a.statusCode),a.status=a.statusCode,a),a=>Promise.reject(a.error))}}time(a,b=null){const d=b?new Date(b):new Date;let e={"M+":d.getMonth()+1,"d+":d.getDate(),"H+":d.getHours(),"m+":d.getMinutes(),"s+":d.getSeconds(),"q+":c((d.getMonth()+3)/3),S:d.getMilliseconds()};for(let c in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(d.getFullYear()+"").slice(4-RegExp.$1.length))),e)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?e[c]:("00"+e[c]).slice((""+e[c]).length)));return a}getBaseURL(a){return a.replace(/[?#].*$/,"")}isAbsoluteURL(a){return/^[a-z][a-z0-9+.-]*:/.test(a)}getURLParameters(a){return(a.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce((b,a)=>(b[a.slice(0,a.indexOf("="))]=a.slice(a.indexOf("=")+1),b),{})}getTimestamp(a=new Date){return c(a.getTime()/1e3)}queryStr(a){let b=[];for(let c in a)a.hasOwnProperty(c)&&b.push(c+'='+a[c]);let c=b.join("&");return c}queryObj(a){let b={},c=a.split("&");for(let d of c){let a=d.split("="),c=a[0],e=a[1]||"";c&&(b[c]=e)}return b}msg(a=this.name,b="",c="",d){const e=a=>{switch(typeof a){case void 0:return a;case"string":switch(this.platform()){case"Surge":case"Stash":case"Egern":default:return{url:a};case"Loon":case"Shadowrocket":return a;case"Quantumult X":return{"open-url":a}}case"object":switch(this.platform()){case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:{let b=a.url||a.openUrl||a["open-url"];return{url:b}}case"Loon":{let b=a.openUrl||a.url||a["open-url"],c=a.mediaUrl||a["media-url"];return{openUrl:b,mediaUrl:c}}case"Quantumult X":{let b=a["open-url"]||a.url||a.openUrl,c=a["media-url"]||a.mediaUrl,d=a["update-pasteboard"]||a.updatePasteboard;return{"open-url":b,"media-url":c,"update-pasteboard":d}}}default:}};if(!this.isMute)switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(a,b,c,e(d));break;case"Quantumult X":$notify(a,b,c,e(d))}}log(...a){0<a.length&&(this.logs=[...this.logs,...a]),console.log(a.join(this.logSeparator))}logErr(a,b){switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Quantumult X":default:this.log("","❗️"+this.name+", 错误!",a,b)}}wait(a){return new Promise(b=>setTimeout(b,a))}done(a={}){const b=new Date().getTime(),c=(b-this.startTime)/1e3;switch(this.log("","🔔"+this.name+", 结束! 🕛"+c+"秒"),this.platform()){case"Surge":a.policy&&this.lodash_set(a,"headers.X-Surge-Policy",a.policy),$done(a);break;case"Loon":a.policy&&(a.node=a.policy),$done(a);break;case"Stash":a.policy&&this.lodash_set(a,"headers.X-Stash-Selected-Proxy",encodeURI(a.policy)),$done(a);break;case"Egern":$done(a);break;case"Shadowrocket":default:$done(a);break;case"Quantumult X":a.policy&&this.lodash_set(a,"opts.policy",a.policy),delete a["auto-redirect"],delete a["auto-cookie"],delete a["binary-mode"],delete a.charset,delete a.host,delete a.insecure,delete a.method,delete a.opt,delete a.path,delete a.policy,delete a["policy-descriptor"],delete a.scheme,delete a.sessionIndex,delete a.statusCode,delete a.timeout,a.body instanceof ArrayBuffer?(a.bodyBytes=a.body,delete a.body):ArrayBuffer.isView(a.body)?(a.bodyBytes=a.body.buffer.slice(a.body.byteOffset,a.body.byteLength+a.body.byteOffset),delete a.body):a.body&&delete a.bodyBytes,$done(a)}}}(a,b)}
